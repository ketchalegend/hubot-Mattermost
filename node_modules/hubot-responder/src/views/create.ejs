<% include header %>

<form action="/create" method="post">
<div class="form-group row"> 
  <label for="match_value" class="col-xs-2 col-form-label">Match</label>
  <div class="col-xs-10">
    <input type="text" class="form-control" id="match_value" name="match_value" required>
  </div>
</div>
<div class="form-group row">
  <label for="at_user" class="col-xs-2 col-form-label">Reply @ User</label>
  <div class="col-xs-1">
    <input type="checkbox" class="form-check-input" id="at_user" name="at_user">
  </div>
  <label for="exact_match" class="col-xs-2 col-form-label">Only Match These Words</label>
  <div class="col-xs-7">
    <input type="checkbox" class="form-check-input" id="exact_match" name="exact_match">
  </div>
</div>
<div class="form-group row" id="message_value0">
  <label for="message_value0" class="col-xs-2 col-form-label">Response(s)</label>
  <div class="col-xs-9">
    <input type="text" class="form-control" id="message_value0" name="message_value0" required>
  </div>
  <div class="col-xs-1">
    <button id="b2" class="btn remove" type="button">Remove</button>
  </div>
</div>


<div class="form-group row">
<button id="b1" class="btn add-more" type="button">Add another response field</button>
</div>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script>
$(document).ready(function(){
    var next = 0;
    $(".add-more").click(function(e) {
        e.preventDefault();
        var addto = "message_value" + next;
        if ($('input#' + addto).val().length > 0) {
            next = next + 1;
            var newIn = '<div class="form-group row" id="message_value' + next + '"><label for="message_value' + next + '" class="col-xs-2 col-form-label"></label><div class="col-xs-9"><input type="text" class="form-control" id="message_value' + next + '" name="message_value' + next + '" required></div><div class="col-xs-1"><button id="b2" class="btn remove" type="button">Remove</button></div></div>';
            $('div#' + addto).after(newIn);
        }
      $("button").each(function() {
        if (this.id == 'b2') {
          $(this).click(remove_function);
        }
      });
    });

    var remove_function = function(e) {
      e.preventDefault();
      $(this).parent().parent().remove();
    };

    $( ".remove" ).each(function() {
      $(this).click(remove_function);
    });
});
</script>





<div class="form-group row">
<button type="submit" class="btn btn-primary">Save</button>
<a href="./list" class="btn btn-default" role="button">Cancel</a>
</div>
</form>
<% include footer %>
